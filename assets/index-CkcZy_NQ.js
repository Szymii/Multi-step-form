(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Ft(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function Ut(){const e=Ft();if(e.__xstate__)return e.__xstate__}const Gt=e=>{if(typeof window>"u")return;const t=Ut();t&&t.register(e)};class dt{constructor(t){this._process=t,this._active=!1,this._current=null,this._last=null}start(){this._active=!0,this.flush()}clear(){this._current&&(this._current.next=null,this._last=this._current)}enqueue(t){const n={value:t,next:null};if(this._current){this._last.next=n,this._last=n;return}this._current=n,this._last=n,this._active&&this.flush()}flush(){for(;this._current;){const t=this._current;this._process(t.value),this._current=t.next}this._last=null}}const wt=".",Yt="",xt="",Ht="#",Kt="*",Et="xstate.init",P="xstate.stop";function Xt(e,t){return{type:`xstate.after.${e}.${t}`}}function H(e,t){return{type:`xstate.done.state.${e}`,output:t}}function Zt(e,t){return{type:`xstate.done.actor.${e}`,output:t}}function Vt(e,t){return{type:`xstate.error.actor.${e}`,error:t}}function kt(e){return{type:Et,input:e}}function S(e){setTimeout(()=>{throw e})}const Qt=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ft(e,t){return`${e.sessionId}.${t}`}let Nt=0;function te(e,t){const n=new Map,s=new Map,i=new WeakMap,r=new Set,o={},{clock:c,logger:u}=t,a={schedule:(h,p,l,y,v=Math.random().toString(36).slice(2))=>{const x={source:h,target:p,event:l,delay:y,id:v,startedAt:Date.now()},_=ft(h,v);d._snapshot._scheduledEvents[_]=x;const zt=c.setTimeout(()=>{delete o[_],delete d._snapshot._scheduledEvents[_],d._relay(h,p,l)},y);o[_]=zt},cancel:(h,p)=>{const l=ft(h,p),y=o[l];delete o[l],delete d._snapshot._scheduledEvents[l],c.clearTimeout(y)},cancelAll:h=>{for(const p in d._snapshot._scheduledEvents){const l=d._snapshot._scheduledEvents[p];l.source===h&&a.cancel(h,l.id)}}},f=h=>{if(!r.size)return;const p={...h,rootId:e.sessionId};r.forEach(l=>{var y;return(y=l.next)==null?void 0:y.call(l,p)})},d={_snapshot:{_scheduledEvents:((t==null?void 0:t.snapshot)&&t.snapshot.scheduler)??{}},_bookId:()=>`x:${Nt++}`,_register:(h,p)=>(n.set(h,p),h),_unregister:h=>{n.delete(h.sessionId);const p=i.get(h);p!==void 0&&(s.delete(p),i.delete(h))},get:h=>s.get(h),_set:(h,p)=>{const l=s.get(h);if(l&&l!==p)throw new Error(`Actor with system ID '${h}' already exists.`);s.set(h,p),i.set(p,h)},inspect:h=>{r.add(h)},_sendInspectionEvent:f,_relay:(h,p,l)=>{d._sendInspectionEvent({type:"@xstate.event",sourceRef:h,actorRef:p,event:l}),p._send(l)},scheduler:a,getSnapshot:()=>({_scheduledEvents:{...d._snapshot._scheduledEvents}}),start:()=>{const h=d._snapshot._scheduledEvents;d._snapshot._scheduledEvents={};for(const p in h){const{source:l,target:y,event:v,delay:x,id:_}=h[p];a.schedule(l,y,v,x,_)}},_clock:c,_logger:u};return d}function Tt(e,t){const n=ht(e),s=ht(t);return typeof s=="string"?typeof n=="string"?s===n:!1:typeof n=="string"?n in s:Object.keys(n).every(i=>i in s?Tt(n[i],s[i]):!1)}function Q(e){if(It(e))return e;let t=[],n="";for(let s=0;s<e.length;s++){switch(e.charCodeAt(s)){case 92:n+=e[s+1],s++;continue;case 46:t.push(n),n="";continue}n+=e[s]}return t.push(n),t}function ht(e){if(Me(e))return e.value;if(typeof e!="string")return e;const t=Q(e);return ee(t)}function ee(e){if(e.length===1)return e[0];const t={};let n=t;for(let s=0;s<e.length-1;s++)if(s===e.length-2)n[e[s]]=e[s+1];else{const i=n;n={},i[e[s]]=n}return t}function lt(e,t){const n={},s=Object.keys(e);for(let i=0;i<s.length;i++){const r=s[i];n[r]=t(e[r],r,e,i)}return n}function $t(e){return It(e)?e:[e]}function b(e){return e===void 0?[]:$t(e)}function K(e,t,n,s){return typeof e=="function"?e({context:t,event:n,self:s}):e}function It(e){return Array.isArray(e)}function ne(e){return e.type.startsWith("xstate.error.actor")}function I(e){return $t(e).map(t=>typeof t>"u"||typeof t=="string"?{target:t}:t)}function At(e){if(!(e===void 0||e===Yt))return b(e)}function pt(e,t,n){var r,o,c;const s=typeof e=="object",i=s?e:void 0;return{next:(r=s?e.next:e)==null?void 0:r.bind(i),error:(o=s?e.error:t)==null?void 0:o.bind(i),complete:(c=s?e.complete:n)==null?void 0:c.bind(i)}}function yt(e,t){return`${t}.${e}`}function N(e,t){const n=t.match(/^xstate\.invoke\.(\d+)\.(.*)/);if(!n)return e.implementations.actors[t];const[,s,i]=n,o=e.getStateNodeById(i).config.invoke;return(Array.isArray(o)?o[s]:o).src}const tt=1;let g=function(e){return e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped",e}({});const se={clock:{setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},logger:console.log.bind(console),devTools:!1};class ie{constructor(t,n){this.logic=t,this._snapshot=void 0,this.clock=void 0,this.options=void 0,this.id=void 0,this.mailbox=new dt(this._process.bind(this)),this.observers=new Set,this.eventListeners=new Map,this.logger=void 0,this._processingStatus=g.NotStarted,this._parent=void 0,this._syncSnapshot=void 0,this.ref=void 0,this._actorScope=void 0,this._systemId=void 0,this.sessionId=void 0,this.system=void 0,this._doneEvent=void 0,this.src=void 0,this._deferred=[];const s={...se,...n},{clock:i,logger:r,parent:o,syncSnapshot:c,id:u,systemId:a,inspect:f}=s;this.system=o?o.system:te(this,{clock:i,logger:r}),f&&!o&&this.system.inspect(pt(f)),this.sessionId=this.system._bookId(),this.id=u??this.sessionId,this.logger=(n==null?void 0:n.logger)??this.system._logger,this.clock=(n==null?void 0:n.clock)??this.system._clock,this._parent=o,this._syncSnapshot=c,this.options=s,this.src=s.src??t,this.ref=this,this._actorScope={self:this,id:this.id,sessionId:this.sessionId,logger:this.logger,defer:d=>{this._deferred.push(d)},system:this.system,stopChild:d=>{if(d._parent!==this)throw new Error(`Cannot stop child actor ${d.id} of ${this.id} because it is not a child`);d._stop()},emit:d=>{const h=this.eventListeners.get(d.type),p=this.eventListeners.get("*");if(!h&&!p)return;const l=new Set([...h?h.values():[],...p?p.values():[]]);for(const y of Array.from(l))y(d)}},this.send=this.send.bind(this),this.system._sendInspectionEvent({type:"@xstate.actor",actorRef:this}),a&&(this._systemId=a,this.system._set(a,this)),this._initState((n==null?void 0:n.snapshot)??(n==null?void 0:n.state)),a&&this._snapshot.status!=="active"&&this.system._unregister(this)}_initState(t){var n;try{this._snapshot=t?this.logic.restoreSnapshot?this.logic.restoreSnapshot(t,this._actorScope):t:this.logic.getInitialSnapshot(this._actorScope,(n=this.options)==null?void 0:n.input)}catch(s){this._snapshot={status:"error",output:void 0,error:s}}}update(t,n){var i,r;this._snapshot=t;let s;for(;s=this._deferred.shift();)try{s()}catch(o){this._deferred.length=0,this._snapshot={...t,status:"error",error:o}}switch(this._snapshot.status){case"active":for(const o of this.observers)try{(i=o.next)==null||i.call(o,t)}catch(c){S(c)}break;case"done":for(const o of this.observers)try{(r=o.next)==null||r.call(o,t)}catch(c){S(c)}this._stopProcedure(),this._complete(),this._doneEvent=Zt(this.id,this._snapshot.output),this._parent&&this.system._relay(this,this._parent,this._doneEvent);break;case"error":this._error(this._snapshot.error);break}this.system._sendInspectionEvent({type:"@xstate.snapshot",actorRef:this,event:n,snapshot:t})}subscribe(t,n,s){var r;const i=pt(t,n,s);if(this._processingStatus!==g.Stopped)this.observers.add(i);else switch(this._snapshot.status){case"done":try{(r=i.complete)==null||r.call(i)}catch(o){S(o)}break;case"error":{const o=this._snapshot.error;if(!i.error)S(o);else try{i.error(o)}catch(c){S(c)}break}}return{unsubscribe:()=>{this.observers.delete(i)}}}on(t,n){let s=this.eventListeners.get(t);s||(s=new Set,this.eventListeners.set(t,s));const i=n.bind(void 0);return s.add(i),{unsubscribe:()=>{s.delete(i)}}}start(){if(this._processingStatus===g.Running)return this;this._syncSnapshot&&this.subscribe({next:s=>{s.status==="active"&&this.system._relay(this,this._parent,{type:`xstate.snapshot.${this.id}`,snapshot:s})},error:()=>{}}),this.system._register(this.sessionId,this),this._systemId&&this.system._set(this._systemId,this),this._processingStatus=g.Running;const t=kt(this.options.input);switch(this.system._sendInspectionEvent({type:"@xstate.event",sourceRef:this._parent,actorRef:this,event:t}),this._snapshot.status){case"done":return this.update(this._snapshot,t),this;case"error":return this._error(this._snapshot.error),this}if(this._parent||this.system.start(),this.logic.start)try{this.logic.start(this._snapshot,this._actorScope)}catch(s){return this._snapshot={...this._snapshot,status:"error",error:s},this._error(s),this}return this.update(this._snapshot,t),this.options.devTools&&this.attachDevTools(),this.mailbox.start(),this}_process(t){let n,s;try{n=this.logic.transition(this._snapshot,t,this._actorScope)}catch(i){s={err:i}}if(s){const{err:i}=s;this._snapshot={...this._snapshot,status:"error",error:i},this._error(i);return}this.update(n,t),t.type===P&&(this._stopProcedure(),this._complete())}_stop(){return this._processingStatus===g.Stopped?this:(this.mailbox.clear(),this._processingStatus===g.NotStarted?(this._processingStatus=g.Stopped,this):(this.mailbox.enqueue({type:P}),this))}stop(){if(this._parent)throw new Error("A non-root actor cannot be stopped directly.");return this._stop()}_complete(){var t;for(const n of this.observers)try{(t=n.complete)==null||t.call(n)}catch(s){S(s)}this.observers.clear()}_reportError(t){if(!this.observers.size){this._parent||S(t);return}let n=!1;for(const s of this.observers){const i=s.error;n||(n=!i);try{i==null||i(t)}catch(r){S(r)}}this.observers.clear(),n&&S(t)}_error(t){this._stopProcedure(),this._reportError(t),this._parent&&this.system._relay(this,this._parent,Vt(this.id,t))}_stopProcedure(){return this._processingStatus!==g.Running?this:(this.system.scheduler.cancelAll(this),this.mailbox.clear(),this.mailbox=new dt(this._process.bind(this)),this._processingStatus=g.Stopped,this.system._unregister(this),this)}_send(t){this._processingStatus!==g.Stopped&&this.mailbox.enqueue(t)}send(t){this.system._relay(void 0,this,t)}attachDevTools(){const{devTools:t}=this.options;t&&(typeof t=="function"?t:Gt)(this)}toJSON(){return{xstate$$type:tt,id:this.id}}getPersistedSnapshot(t){return this.logic.getPersistedSnapshot(this._snapshot,t)}[Qt](){return this}getSnapshot(){return this._snapshot}}function j(e,...[t]){return new ie(e,t)}function re(e,t,n,s,{sendId:i}){const r=typeof i=="function"?i(n,s):i;return[t,r]}function oe(e,t){e.defer(()=>{e.system.scheduler.cancel(e.self,t)})}function ce(e){function t(n,s){}return t.type="xstate.cancel",t.sendId=e,t.resolve=re,t.execute=oe,t}function ae(e,t,n,s,{id:i,systemId:r,src:o,input:c,syncSnapshot:u}){const a=typeof o=="string"?N(t.machine,o):o,f=typeof i=="function"?i(n):i;let d;return a&&(d=j(a,{id:f,src:o,parent:e.self,syncSnapshot:u,systemId:r,input:typeof c=="function"?c({context:t.context,event:n.event,self:e.self}):c})),[T(t,{children:{...t.children,[f]:d}}),{id:i,actorRef:d}]}function ue(e,{id:t,actorRef:n}){n&&e.defer(()=>{n._processingStatus!==g.Stopped&&n.start()})}function de(...[e,{id:t,systemId:n,input:s,syncSnapshot:i=!1}={}]){function r(o,c){}return r.type="snapshot.spawnChild",r.id=t,r.systemId=n,r.src=e,r.input=s,r.syncSnapshot=i,r.resolve=ae,r.execute=ue,r}function fe(e,t,n,s,{actorRef:i}){const r=typeof i=="function"?i(n,s):i,o=typeof r=="string"?t.children[r]:r;let c=t.children;return o&&(c={...c},delete c[o.id]),[T(t,{children:c}),o]}function he(e,t){if(t){if(e.system._unregister(t),t._processingStatus!==g.Running){e.stopChild(t);return}e.defer(()=>{e.stopChild(t)})}}function Ot(e){function t(n,s){}return t.type="xstate.stopChild",t.actorRef=e,t.resolve=fe,t.execute=he,t}function et(e,t,n,s){const{machine:i}=s,r=typeof e=="function",o=r?e:i.implementations.guards[typeof e=="string"?e:e.type];if(!r&&!o)throw new Error(`Guard '${typeof e=="string"?e:e.type}' is not implemented.'.`);if(typeof o!="function")return et(o,t,n,s);const c={context:t,event:n},u=r||typeof e=="string"?void 0:"params"in e?typeof e.params=="function"?e.params({context:t,event:n}):e.params:void 0;return"check"in o?o.check(s,c,o):o(c,u)}const nt=e=>e.type==="atomic"||e.type==="final";function O(e){return Object.values(e.states).filter(t=>t.type!=="history")}function C(e,t){const n=[];if(t===e)return n;let s=e.parent;for(;s&&s!==t;)n.push(s),s=s.parent;return n}function W(e){const t=new Set(e),n=Lt(t);for(const s of t)if(s.type==="compound"&&(!n.get(s)||!n.get(s).length))mt(s).forEach(i=>t.add(i));else if(s.type==="parallel"){for(const i of O(s))if(i.type!=="history"&&!t.has(i)){const r=mt(i);for(const o of r)t.add(o)}}for(const s of t){let i=s.parent;for(;i;)t.add(i),i=i.parent}return t}function Mt(e,t){const n=t.get(e);if(!n)return{};if(e.type==="compound"){const i=n[0];if(i){if(nt(i))return i.key}else return{}}const s={};for(const i of n)s[i.key]=Mt(i,t);return s}function Lt(e){const t=new Map;for(const n of e)t.has(n)||t.set(n,[]),n.parent&&(t.has(n.parent)||t.set(n.parent,[]),t.get(n.parent).push(n));return t}function qt(e,t){const n=W(t);return Mt(e,Lt(n))}function st(e,t){return t.type==="compound"?O(t).some(n=>n.type==="final"&&e.has(n)):t.type==="parallel"?O(t).every(n=>st(e,n)):t.type==="final"}const F=e=>e[0]===Ht;function le(e,t){return e.transitions.get(t)||[...e.transitions.keys()].filter(s=>{if(s===Kt)return!0;if(!s.endsWith(".*"))return!1;const i=s.split("."),r=t.split(".");for(let o=0;o<i.length;o++){const c=i[o],u=r[o];if(c==="*")return o===i.length-1;if(c!==u)return!1}return!0}).sort((s,i)=>i.length-s.length).flatMap(s=>e.transitions.get(s))}function pe(e){const t=e.config.after;if(!t)return[];const n=(i,r)=>{const o=Xt(i,e.id),c=o.type;return e.entry.push(We(o,{id:c,delay:i})),e.exit.push(ce(c)),c};return Object.keys(t).flatMap((i,r)=>{const o=t[i],c=typeof o=="string"?{target:o}:o,u=Number.isNaN(+i)?i:+i,a=n(u);return b(c).map(f=>({...f,event:a,delay:u}))}).map(i=>{const{delay:r}=i;return{...E(e,i.event,i),delay:r}})}function E(e,t,n){const s=At(n.target),i=n.reenter??!1,r=ge(e,s),o={...n,actions:b(n.actions),guard:n.guard,target:r,source:e,reenter:i,eventType:t,toJSON:()=>({...o,source:`#${e.id}`,target:r?r.map(c=>`#${c.id}`):void 0})};return o}function ye(e){const t=new Map;if(e.config.on)for(const n of Object.keys(e.config.on)){if(n===xt)throw new Error('Null events ("") cannot be specified as a transition key. Use `always: { ... }` instead.');const s=e.config.on[n];t.set(n,I(s).map(i=>E(e,n,i)))}if(e.config.onDone){const n=`xstate.done.state.${e.id}`;t.set(n,I(e.config.onDone).map(s=>E(e,n,s)))}for(const n of e.invoke){if(n.onDone){const s=`xstate.done.actor.${n.id}`;t.set(s,I(n.onDone).map(i=>E(e,s,i)))}if(n.onError){const s=`xstate.error.actor.${n.id}`;t.set(s,I(n.onError).map(i=>E(e,s,i)))}if(n.onSnapshot){const s=`xstate.snapshot.${n.id}`;t.set(s,I(n.onSnapshot).map(i=>E(e,s,i)))}}for(const n of e.after){let s=t.get(n.eventType);s||(s=[],t.set(n.eventType,s)),s.push(n)}return t}function me(e,t){const n=typeof t=="string"?e.states[t]:t?e.states[t.target]:void 0;if(!n&&t)throw new Error(`Initial state node "${t}" not found on parent state node #${e.id}`);const s={source:e,actions:!t||typeof t=="string"?[]:b(t.actions),eventType:null,reenter:!1,target:n?[n]:[],toJSON:()=>({...s,source:`#${e.id}`,target:n?[`#${n.id}`]:[]})};return s}function ge(e,t){if(t!==void 0)return t.map(n=>{if(typeof n!="string")return n;if(F(n))return e.machine.getStateNodeById(n);const s=n[0]===wt;if(s&&!e.parent)return J(e,n.slice(1));const i=s?e.key+n:n;if(e.parent)try{return J(e.parent,i)}catch(r){throw new Error(`Invalid transition definition for state node '${e.id}':
${r.message}`)}else throw new Error(`Invalid target: "${n}" is not a valid target from the root node. Did you mean ".${n}"?`)})}function jt(e){const t=At(e.config.target);return t?{target:t.map(n=>typeof n=="string"?J(e.parent,n):n)}:e.parent.initial}function k(e){return e.type==="history"}function mt(e){const t=Ct(e);for(const n of t)for(const s of C(n,e))t.add(s);return t}function Ct(e){const t=new Set;function n(s){if(!t.has(s)){if(t.add(s),s.type==="compound")n(s.initial.target[0]);else if(s.type==="parallel")for(const i of O(s))n(i)}}return n(e),t}function M(e,t){if(F(t))return e.machine.getStateNodeById(t);if(!e.states)throw new Error(`Unable to retrieve child state '${t}' from '${e.id}'; no child states exist.`);const n=e.states[t];if(!n)throw new Error(`Child state '${t}' does not exist on '${e.id}'`);return n}function J(e,t){if(typeof t=="string"&&F(t))try{return e.machine.getStateNodeById(t)}catch{}const n=Q(t).slice();let s=e;for(;n.length;){const i=n.shift();if(!i.length)break;s=M(s,i)}return s}function z(e,t){if(typeof t=="string"){const i=e.states[t];if(!i)throw new Error(`State '${t}' does not exist on '${e.id}'`);return[e,i]}const n=Object.keys(t),s=n.map(i=>M(e,i)).filter(Boolean);return[e.machine.root,e].concat(s,n.reduce((i,r)=>{const o=M(e,r);if(!o)return i;const c=z(o,t[r]);return i.concat(c)},[]))}function ve(e,t,n,s){const r=M(e,t).next(n,s);return!r||!r.length?e.next(n,s):r}function _e(e,t,n,s){const i=Object.keys(t),r=M(e,i[0]),o=it(r,t[i[0]],n,s);return!o||!o.length?e.next(n,s):o}function Se(e,t,n,s){const i=[];for(const r of Object.keys(t)){const o=t[r];if(!o)continue;const c=M(e,r),u=it(c,o,n,s);u&&i.push(...u)}return i.length?i:e.next(n,s)}function it(e,t,n,s){return typeof t=="string"?ve(e,t,n,s):Object.keys(t).length===1?_e(e,t,n,s):Se(e,t,n,s)}function be(e){return Object.keys(e.states).map(t=>e.states[t]).filter(t=>t.type==="history")}function w(e,t){let n=e;for(;n.parent&&n.parent!==t;)n=n.parent;return n.parent===t}function we(e,t){const n=new Set(e),s=new Set(t);for(const i of n)if(s.has(i))return!0;for(const i of s)if(n.has(i))return!0;return!1}function Dt(e,t,n){const s=new Set;for(const i of e){let r=!1;const o=new Set;for(const c of s)if(we(X([i],t,n),X([c],t,n)))if(w(i.source,c.source))o.add(c);else{r=!0;break}if(!r){for(const c of o)s.delete(c);s.add(i)}}return Array.from(s)}function xe(e){const[t,...n]=e;for(const s of C(t,void 0))if(n.every(i=>w(i,s)))return s}function rt(e,t){if(!e.target)return[];const n=new Set;for(const s of e.target)if(k(s))if(t[s.id])for(const i of t[s.id])n.add(i);else for(const i of rt(jt(s),t))n.add(i);else n.add(s);return[...n]}function Bt(e,t){const n=rt(e,t);if(!n)return;if(!e.reenter&&n.every(i=>i===e.source||w(i,e.source)))return e.source;const s=xe(n.concat(e.source));if(s)return s;if(!e.reenter)return e.source.machine.root}function X(e,t,n){var i;const s=new Set;for(const r of e)if((i=r.target)!=null&&i.length){const o=Bt(r,n);r.reenter&&r.source===o&&s.add(o);for(const c of t)w(c,o)&&s.add(c)}return[...s]}function Ee(e,t){if(e.length!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Z(e,t,n,s,i,r){if(!e.length)return t;const o=new Set(t._nodes);let c=t.historyValue;const u=Dt(e,o,c);let a=t;i||([a,c]=Ie(a,s,n,u,o,c,r)),a=L(a,s,n,u.flatMap(d=>d.actions),r),a=Te(a,s,n,u,o,r,c,i);const f=[...o];a.status==="done"&&(a=L(a,s,n,f.sort((d,h)=>h.order-d.order).flatMap(d=>d.exit),r));try{return c===t.historyValue&&Ee(t._nodes,o)?a:T(a,{_nodes:f,historyValue:c})}catch(d){throw d}}function ke(e,t,n,s,i){if(s.output===void 0)return;const r=H(i.id,i.output!==void 0&&i.parent?K(i.output,e.context,t,n.self):void 0);return K(s.output,e.context,r,n.self)}function Te(e,t,n,s,i,r,o,c){let u=e;const a=new Set,f=new Set;$e(s,o,f,a),c&&f.add(e.machine.root);const d=new Set;for(const h of[...a].sort((p,l)=>p.order-l.order)){i.add(h);const p=[];p.push(...h.entry);for(const l of h.invoke)p.push(de(l.src,{...l,syncSnapshot:!!l.onSnapshot}));if(f.has(h)){const l=h.initial.actions;p.push(...l)}if(u=L(u,t,n,p,r,h.invoke.map(l=>l.id)),h.type==="final"){const l=h.parent;let y=(l==null?void 0:l.type)==="parallel"?l:l==null?void 0:l.parent,v=y||h;for((l==null?void 0:l.type)==="compound"&&r.push(H(l.id,h.output!==void 0?K(h.output,u.context,t,n.self):void 0));(y==null?void 0:y.type)==="parallel"&&!d.has(y)&&st(i,y);)d.add(y),r.push(H(y.id)),v=y,y=y.parent;if(y)continue;u=T(u,{status:"done",output:ke(u,t,n,u.machine.root,v)})}}return u}function $e(e,t,n,s){for(const i of e){const r=Bt(i,t);for(const c of i.target||[])!k(c)&&(i.source!==c||i.source!==r||i.reenter)&&(s.add(c),n.add(c)),A(c,t,n,s);const o=rt(i,t);for(const c of o){const u=C(c,r);(r==null?void 0:r.type)==="parallel"&&u.push(r),Rt(s,t,n,u,!i.source.parent&&i.reenter?void 0:r)}}}function A(e,t,n,s){var i;if(k(e))if(t[e.id]){const r=t[e.id];for(const o of r)s.add(o),A(o,t,n,s);for(const o of r)G(o,e.parent,s,t,n)}else{const r=jt(e);for(const o of r.target)s.add(o),r===((i=e.parent)==null?void 0:i.initial)&&n.add(e.parent),A(o,t,n,s);for(const o of r.target)G(o,e.parent,s,t,n)}else if(e.type==="compound"){const[r]=e.initial.target;k(r)||(s.add(r),n.add(r)),A(r,t,n,s),G(r,e,s,t,n)}else if(e.type==="parallel")for(const r of O(e).filter(o=>!k(o)))[...s].some(o=>w(o,r))||(k(r)||(s.add(r),n.add(r)),A(r,t,n,s))}function Rt(e,t,n,s,i){for(const r of s)if((!i||w(r,i))&&e.add(r),r.type==="parallel")for(const o of O(r).filter(c=>!k(c)))[...e].some(c=>w(c,o))||(e.add(o),A(o,t,n,e))}function G(e,t,n,s,i){Rt(n,s,i,C(e,t))}function Ie(e,t,n,s,i,r,o){let c=e;const u=X(s,i,r);u.sort((f,d)=>d.order-f.order);let a;for(const f of u)for(const d of be(f)){let h;d.history==="deep"?h=p=>nt(p)&&w(p,f):h=p=>p.parent===f,a??(a={...r}),a[d.id]=Array.from(i).filter(h)}for(const f of u)c=L(c,t,n,[...f.exit,...f.invoke.map(d=>Ot(d.id))],o),i.delete(f);return[c,a||r]}let gt=!1;function Pt(e,t,n,s,i,r){const{machine:o}=e;let c=e;for(const a of s){let l=function(){n.system._sendInspectionEvent({type:"@xstate.action",actorRef:n.self,action:{type:typeof a=="string"?a:typeof a=="object"?a.type:a.name||"(anonymous)",params:p}});try{gt=d,d(h,p)}finally{gt=!1}};var u=l;const f=typeof a=="function",d=f?a:o.implementations.actions[typeof a=="string"?a:a.type];if(!d)continue;const h={context:c.context,event:t,self:n.self,system:n.system},p=f||typeof a=="string"?void 0:"params"in a?typeof a.params=="function"?a.params({context:c.context,event:t}):a.params:void 0;if(!("resolve"in d)){n.self._processingStatus===g.Running?l():n.defer(()=>{l()});continue}const y=d,[v,x,_]=y.resolve(n,c,h,p,d,i);c=v,"retryResolve"in y&&(r==null||r.push([y,x])),"execute"in y&&(n.self._processingStatus===g.Running?y.execute(n,x):n.defer(y.execute.bind(null,n,x))),_&&(c=Pt(c,t,n,_,i,r))}return c}function L(e,t,n,s,i,r){const o=r?[]:void 0,c=Pt(e,t,n,s,{internalQueue:i,deferredActorIds:r},o);return o==null||o.forEach(([u,a])=>{u.retryResolve(n,c,a)}),c}function Y(e,t,n,s=[]){let i=e;const r=[];function o(a,f,d){n.system._sendInspectionEvent({type:"@xstate.microstep",actorRef:n.self,event:f,snapshot:a,_transitions:d}),r.push(a)}if(t.type===P)return i=T(vt(i,t,n),{status:"stopped"}),o(i,t,[]),{snapshot:i,microstates:r};let c=t;if(c.type!==Et){const a=c,f=ne(a),d=_t(a,i);if(f&&!d.length)return i=T(e,{status:"error",error:a.error}),o(i,a,[]),{snapshot:i,microstates:r};i=Z(d,e,n,c,!1,s),o(i,a,d)}let u=!0;for(;i.status==="active";){let a=u?Ae(i,c):[];const f=a.length?i:void 0;if(!a.length){if(!s.length)break;c=s.shift(),a=_t(c,i)}i=Z(a,i,n,c,!1,s),u=i!==f,o(i,c,a)}return i.status!=="active"&&vt(i,c,n),{snapshot:i,microstates:r}}function vt(e,t,n){return L(e,t,n,Object.values(e.children).map(s=>Ot(s)),[])}function _t(e,t){return t.machine.getTransitionData(t,e)}function Ae(e,t){const n=new Set,s=e._nodes.filter(nt);for(const i of s)t:for(const r of[i].concat(C(i,void 0)))if(r.always){for(const o of r.always)if(o.guard===void 0||et(o.guard,e.context,t,e)){n.add(o);break t}}return Dt(Array.from(n),new Set(e._nodes),e.historyValue)}function Oe(e,t){const n=W(z(e,t));return qt(e,[...n])}function Me(e){return!!e&&typeof e=="object"&&"machine"in e&&"value"in e}const Le=function(t){return Tt(t,this.value)},qe=function(t){return this.tags.has(t)},je=function(t){const n=this.machine.getTransitionData(this,t);return!!(n!=null&&n.length)&&n.some(s=>s.target!==void 0||s.actions.length)},Ce=function(){const{_nodes:t,tags:n,machine:s,getMeta:i,toJSON:r,can:o,hasTag:c,matches:u,...a}=this;return{...a,tags:Array.from(n)}},De=function(){return this._nodes.reduce((t,n)=>(n.meta!==void 0&&(t[n.id]=n.meta),t),{})};function B(e,t){return{status:e.status,output:e.output,error:e.error,machine:t,context:e.context,_nodes:e._nodes,value:qt(t.root,e._nodes),tags:new Set(e._nodes.flatMap(n=>n.tags)),children:e.children,historyValue:e.historyValue||{},matches:Le,hasTag:qe,can:je,getMeta:De,toJSON:Ce}}function T(e,t={}){return B({...e,...t},e.machine)}function Be(e,t){const{_nodes:n,tags:s,machine:i,children:r,context:o,can:c,hasTag:u,matches:a,getMeta:f,toJSON:d,...h}=e,p={};for(const y in r){const v=r[y];p[y]={snapshot:v.getPersistedSnapshot(t),src:v.src,systemId:v._systemId,syncSnapshot:v._syncSnapshot}}return{...h,context:Wt(o),children:p}}function Wt(e){let t;for(const n in e){const s=e[n];if(s&&typeof s=="object")if("sessionId"in s&&"send"in s&&"ref"in s)t??(t=Array.isArray(e)?e.slice():{...e}),t[n]={xstate$$type:tt,id:s.id};else{const i=Wt(s);i!==s&&(t??(t=Array.isArray(e)?e.slice():{...e}),t[n]=i)}}return t??e}function Re(e,t,n,s,{event:i,id:r,delay:o},{internalQueue:c}){const u=t.machine.implementations.delays;if(typeof i=="string")throw new Error(`Only event objects may be used with raise; use raise({ type: "${i}" }) instead`);const a=typeof i=="function"?i(n,s):i;let f;if(typeof o=="string"){const d=u&&u[o];f=typeof d=="function"?d(n,s):d}else f=typeof o=="function"?o(n,s):o;return typeof f!="number"&&c.push(a),[t,{event:a,id:r,delay:f}]}function Pe(e,t){const{event:n,delay:s,id:i}=t;if(typeof s=="number"){e.defer(()=>{const r=e.self;e.system.scheduler.schedule(r,r,n,s,i)});return}}function We(e,t){function n(s,i){}return n.type="xstate.raise",n.event=e,n.id=t==null?void 0:t.id,n.delay=t==null?void 0:t.delay,n.resolve=Re,n.execute=Pe,n}const St=new WeakMap;function U(e){return{config:e,start:(n,s)=>{const{self:i,system:r}=s,o={receivers:void 0,dispose:void 0};St.set(i,o),o.dispose=e({input:n.input,system:r,self:i,sendBack:c=>{i.getSnapshot().status!=="stopped"&&i._parent&&r._relay(i,i._parent,c)},receive:c=>{o.receivers??(o.receivers=new Set),o.receivers.add(c)}})},transition:(n,s,i)=>{var o,c;const r=St.get(i.self);return s.type===P?(n={...n,status:"stopped",error:void 0},(o=r.dispose)==null||o.call(r),n):((c=r.receivers)==null||c.forEach(u=>u(s)),n)},getInitialSnapshot:(n,s)=>({status:"active",output:void 0,error:void 0,input:s}),getPersistedSnapshot:n=>n,restoreSnapshot:n=>n}}function Je(e,{machine:t,context:n},s,i){const r=(o,c={})=>{const{systemId:u,input:a}=c;if(typeof o=="string"){const f=N(t,o);if(!f)throw new Error(`Actor logic '${o}' not implemented in machine '${t.id}'`);const d=j(f,{id:c.id,parent:e.self,syncSnapshot:c.syncSnapshot,input:typeof a=="function"?a({context:n,event:s,self:e.self}):a,src:o,systemId:u});return i[d.id]=d,d}else return j(o,{id:c.id,parent:e.self,syncSnapshot:c.syncSnapshot,input:c.input,src:o,systemId:u})};return(o,c)=>{const u=r(o,c);return i[u.id]=u,e.defer(()=>{u._processingStatus!==g.Stopped&&u.start()}),u}}function ze(e,t,n,s,{assignment:i}){if(!t.context)throw new Error("Cannot assign to undefined `context`. Ensure that `context` is defined in the machine config.");const r={},o={context:t.context,event:n.event,spawn:Je(e,t,n.event,r),self:e.self,system:e.system};let c={};if(typeof i=="function")c=i(o,s);else for(const a of Object.keys(i)){const f=i[a];c[a]=typeof f=="function"?f(o,s):f}const u=Object.assign({},t.context,c);return[T(t,{context:u,children:Object.keys(r).length?{...t.children,...r}:t.children})]}function R(e){function t(n,s){}return t.type="xstate.assign",t.assignment=e,t.resolve=ze,t}const bt=new WeakMap;function $(e,t,n){let s=bt.get(e);return s?t in s||(s[t]=n()):(s={[t]:n()},bt.set(e,s)),s[t]}const Fe={},q=e=>typeof e=="string"?{type:e}:typeof e=="function"?"resolve"in e?{type:e.type}:{type:e.name}:e;class ot{constructor(t,n){if(this.config=t,this.key=void 0,this.id=void 0,this.type=void 0,this.path=void 0,this.states=void 0,this.history=void 0,this.entry=void 0,this.exit=void 0,this.parent=void 0,this.machine=void 0,this.meta=void 0,this.output=void 0,this.order=-1,this.description=void 0,this.tags=[],this.transitions=void 0,this.always=void 0,this.parent=n._parent,this.key=n._key,this.machine=n._machine,this.path=this.parent?this.parent.path.concat(this.key):[],this.id=this.config.id||[this.machine.id,...this.path].join(wt),this.type=this.config.type||(this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.description=this.config.description,this.order=this.machine.idMap.size,this.machine.idMap.set(this.id,this),this.states=this.config.states?lt(this.config.states,(s,i)=>new ot(s,{_parent:this,_key:i,_machine:this.machine})):Fe,this.type==="compound"&&!this.config.initial)throw new Error(`No initial state specified for compound state node "#${this.id}". Try adding { initial: "${Object.keys(this.states)[0]}" } to the state config.`);this.history=this.config.history===!0?"shallow":this.config.history||!1,this.entry=b(this.config.entry).slice(),this.exit=b(this.config.exit).slice(),this.meta=this.config.meta,this.output=this.type==="final"||!this.parent?this.config.output:void 0,this.tags=b(t.tags).slice()}_initialize(){this.transitions=ye(this),this.config.always&&(this.always=I(this.config.always).map(t=>E(this,xt,t))),Object.keys(this.states).forEach(t=>{this.states[t]._initialize()})}get definition(){return{id:this.id,key:this.key,version:this.machine.version,type:this.type,initial:this.initial?{target:this.initial.target,source:this,actions:this.initial.actions.map(q),eventType:null,reenter:!1,toJSON:()=>({target:this.initial.target.map(t=>`#${t.id}`),source:`#${this.id}`,actions:this.initial.actions.map(q),eventType:null})}:void 0,history:this.history,states:lt(this.states,t=>t.definition),on:this.on,transitions:[...this.transitions.values()].flat().map(t=>({...t,actions:t.actions.map(q)})),entry:this.entry.map(q),exit:this.exit.map(q),meta:this.meta,order:this.order||-1,output:this.output,invoke:this.invoke,description:this.description,tags:this.tags}}toJSON(){return this.definition}get invoke(){return $(this,"invoke",()=>b(this.config.invoke).map((t,n)=>{const{src:s,systemId:i}=t,r=t.id??yt(this.id,n),o=typeof s=="string"?s:`xstate.invoke.${yt(this.id,n)}`;return{...t,src:o,id:r,systemId:i,toJSON(){const{onDone:c,onError:u,...a}=t;return{...a,type:"xstate.invoke",src:o,id:r}}}}))}get on(){return $(this,"on",()=>[...this.transitions].flatMap(([n,s])=>s.map(i=>[n,i])).reduce((n,[s,i])=>(n[s]=n[s]||[],n[s].push(i),n),{}))}get after(){return $(this,"delayedTransitions",()=>pe(this))}get initial(){return $(this,"initial",()=>me(this,this.config.initial))}next(t,n){const s=n.type,i=[];let r;const o=$(this,`candidates-${s}`,()=>le(this,s));for(const c of o){const{guard:u}=c,a=t.context;let f=!1;try{f=!u||et(u,a,n,t)}catch(d){const h=typeof u=="string"?u:typeof u=="object"?u.type:void 0;throw new Error(`Unable to evaluate guard ${h?`'${h}' `:""}in transition for event '${s}' in state node '${this.id}':
${d.message}`)}if(f){i.push(...c.actions),r=c;break}}return r?[r]:void 0}get events(){return $(this,"events",()=>{const{states:t}=this,n=new Set(this.ownEvents);if(t)for(const s of Object.keys(t)){const i=t[s];if(i.states)for(const r of i.events)n.add(`${r}`)}return Array.from(n)})}get ownEvents(){const t=new Set([...this.transitions.keys()].filter(n=>this.transitions.get(n).some(s=>!(!s.target&&!s.actions.length&&!s.reenter))));return Array.from(t)}}const Ue="#";class ct{constructor(t,n){this.config=t,this.version=void 0,this.schemas=void 0,this.implementations=void 0,this.__xstatenode=!0,this.idMap=new Map,this.root=void 0,this.id=void 0,this.states=void 0,this.events=void 0,this.__TResolvedTypesMeta=void 0,this.id=t.id||"(machine)",this.implementations={actors:(n==null?void 0:n.actors)??{},actions:(n==null?void 0:n.actions)??{},delays:(n==null?void 0:n.delays)??{},guards:(n==null?void 0:n.guards)??{}},this.version=this.config.version,this.schemas=this.config.schemas,this.transition=this.transition.bind(this),this.getInitialSnapshot=this.getInitialSnapshot.bind(this),this.getPersistedSnapshot=this.getPersistedSnapshot.bind(this),this.restoreSnapshot=this.restoreSnapshot.bind(this),this.start=this.start.bind(this),this.root=new ot(t,{_key:this.id,_machine:this}),this.root._initialize(),this.states=this.root.states,this.events=this.root.events}provide(t){const{actions:n,guards:s,actors:i,delays:r}=this.implementations;return new ct(this.config,{actions:{...n,...t.actions},guards:{...s,...t.guards},actors:{...i,...t.actors},delays:{...r,...t.delays}})}resolveState(t){const n=Oe(this.root,t.value),s=W(z(this.root,n));return B({_nodes:[...s],context:t.context||{},children:{},status:st(s,this.root)?"done":t.status||"active",output:t.output,error:t.error,historyValue:t.historyValue},this)}transition(t,n,s){return Y(t,n,s).snapshot}microstep(t,n,s){return Y(t,n,s).microstates}getTransitionData(t,n){return it(this.root,t.value,t,n)||[]}getPreInitialState(t,n,s){const{context:i}=this.config,r=B({context:typeof i!="function"&&i?i:{},_nodes:[this.root],children:{},status:"active"},this);return typeof i=="function"?L(r,n,t,[R(({spawn:c,event:u,self:a})=>i({spawn:c,input:u.input,self:a}))],s):r}getInitialSnapshot(t,n){const s=kt(n),i=[],r=this.getPreInitialState(t,s,i),o=Z([{target:[...Ct(this.root)],source:this.root,reenter:!0,actions:[],eventType:null,toJSON:null}],r,t,s,!0,i),{snapshot:c}=Y(o,s,t,i);return c}start(t){Object.values(t.children).forEach(n=>{n.getSnapshot().status==="active"&&n.start()})}getStateNodeById(t){const n=Q(t),s=n.slice(1),i=F(n[0])?n[0].slice(Ue.length):n[0],r=this.idMap.get(i);if(!r)throw new Error(`Child state node '#${i}' does not exist on machine '${this.id}'`);return J(r,s)}get definition(){return this.root.definition}toJSON(){return this.definition}getPersistedSnapshot(t,n){return Be(t,n)}restoreSnapshot(t,n){const s={},i=t.children;Object.keys(i).forEach(u=>{const a=i[u],f=a.snapshot,d=a.src,h=typeof d=="string"?N(this,d):d;if(!h)return;const p=j(h,{id:u,parent:n.self,syncSnapshot:a.syncSnapshot,snapshot:f,src:d,systemId:a.systemId});s[u]=p});const r=B({...t,children:s,_nodes:Array.from(W(z(this.root,t.value)))},this);let o=new Set;function c(u,a){if(!o.has(u)){o.add(u);for(let f in u){const d=u[f];if(d&&typeof d=="object"){if("xstate$$type"in d&&d.xstate$$type===tt){u[f]=a[d.id];continue}c(d,a)}}}}return c(r.context,s),r}}function Ge(e,t){return new ct(e,t)}function Ye({schemas:e,actors:t,actions:n,guards:s,delays:i}){return{createMachine:r=>Ge({...r,schemas:e},{actors:t,actions:n,guards:s,delays:i})}}const m={nav:()=>document.querySelector("nav"),mainWrapper:()=>document.querySelector(".main-wrapper"),goBackBtn:()=>document.querySelector(".go-back-btn"),goNextBtn:()=>document.querySelector(".go-next-btn"),confirmBtn:()=>document.querySelector(".confirm-btn"),personalInfoForm:()=>document.querySelector("#personal-info-form"),selectPlanForm:()=>document.querySelector("#select-plan-form"),pickAddonsForm:()=>document.querySelector("#pick-addons-form"),finishingUpPage:()=>document.querySelector("#finishing-up"),thankYouPage:()=>document.querySelector("#thank-you")},at={arcade:{name:"arcade",value:9},advanced:{name:"advanced",value:12},pro:{name:"pro",value:15}},V={service:{id:"service",name:"Online services",value:1},storage:{id:"storage",name:"Larger storage",value:2},profile:{id:"profile",name:"Customizable profile",value:2}},He=e=>{const t=m.nav(),n=t.querySelectorAll(".nav-item"),s=t.querySelector(`#${e}`);n.forEach(i=>{i.classList.remove("active")}),s==null||s.classList.add("active")},D=(e,t)=>{const n=m.mainWrapper(),s=e.content.cloneNode(!0);n.replaceChildren(s),He(t)},Ke=e=>e.name&&e.value,Xe=e=>!["checkbox","radio"].includes(e.type)||e.checked,Ze=e=>e.type==="checkbox",Ve=e=>e.options&&e.multiple,Qe=e=>[].reduce.call(e,(t,n)=>n.selected?t.concat(n.value):t,[]),ut=e=>[].reduce.call(e,(t,n)=>(Ke(n)&&Xe(n)&&(Ze(n)?t[n.name]=(t[n.name]||[]).concat(n.value):Ve(n)?t[n.name]=Qe(n):t[n.name]=n.value),t),{}),Ne=e=>{const t=m.mainWrapper().querySelector("form");Object.entries(e).forEach(([n])=>{t.querySelector(`input[name=${n}]`).value=e[n]})},tn=e=>{const t=m.mainWrapper().querySelector("form");Object.entries(e).forEach(([i])=>{const r=t.querySelectorAll(`input[name=${i}]`);if(r[0].type==="radio"){r.forEach(o=>{o.checked=o.value===e[i]});return}if(r[0].type==="checkbox"){r[0].checked=e[i];return}});const n=i=>{Object.entries(at).forEach(([r,o])=>{const c=document.querySelector(`#price-${r}`);s.checked?c.innerText=`$${o.value*10}/yr`:c.innerText=`$${o.value}/mo`})},s=t.querySelector("input[type=checkbox]");s.addEventListener("change",n),n()},en=e=>{m.mainWrapper().querySelector("form").querySelectorAll("input[type=checkbox]").forEach(s=>{e.addons.map(({id:r})=>r).includes(s.value)&&(s.checked=!0);const i=s.parentElement.querySelector(".price");e.yearly?i.innerText=`+$${V[s.value].value*10}/yr`:i.innerText=`+$${V[s.value].value}/mo`})},nn=e=>{const t=document.querySelector(".summary-wrapper"),n=document.querySelector("#summary-plan"),s=document.querySelector("#summary-plan-period"),i=document.querySelector("#summary-plan-price"),r=document.querySelector("#total-period"),o=document.querySelector("#total-price");n.innerText=e.plan.name,s.innerText=e.yearly?"Yearly":"Monthly",i.innerText=`$${e.plan.value}/${e.yearly?"yr":"mo"}`,e.addons.map(({name:a,value:f})=>`<span>${a}</span><span class="additional-price">+$${e.yearly?f*10:f}/${e.yearly?"yr":"mo"}</span>`).forEach(a=>{const f=document.createElement("div");f.classList.add("summary-position"),f.innerHTML=a,t.append(f)});const u=e.plan.value+e.addons.reduce((a,{value:f})=>a+=f,0);r.innerText=e.yearly?"per year":"per month",o.innerText=`$${e.yearly?u*10:u}/${e.yearly?"yr":"mo"}`},sn=U(({sendBack:e,input:t})=>{D(m.personalInfoForm(),"step-one");const n=m.mainWrapper().querySelector("form");Ne(t);const s=i=>{i.preventDefault();const r=ut(n);e({type:"info.submitted",name:r.name,email:r.email,phone:r.phone})};return n.addEventListener("submit",s),()=>{n.removeEventListener("submit",s)}}),rn=U(({sendBack:e,input:t})=>{D(m.selectPlanForm(),"step-two");const n=m.mainWrapper().querySelector("form");tn(t);const s=o=>{o.preventDefault();const c=ut(n);e({type:"plan.submitted",plan:at[c.plan],yearly:!!(c!=null&&c.yearly)})},i=o=>{e({type:"back"})};n.addEventListener("submit",s);const r=m.goBackBtn();return r.addEventListener("click",i),()=>{n.removeEventListener("submit",s),r.removeEventListener("click",i)}}),on=U(({sendBack:e,input:t})=>{D(m.pickAddonsForm(),"step-three"),en(t);const n=o=>{var u;o.preventDefault();const c=ut(i);e({type:"addons.submitted",addons:((u=c.addons)==null?void 0:u.map(a=>V[a]))||[]})},s=o=>{e({type:"back"})},i=m.mainWrapper().querySelector("form");i.addEventListener("submit",n);const r=m.goBackBtn();return r.addEventListener("click",s),()=>{i.removeEventListener("submit",n),r.removeEventListener("click",s)}}),cn=U(({sendBack:e,input:t})=>{D(m.finishingUpPage(),"step-four"),nn(t);const n=o=>{e({type:"finish.submitted"})},s=o=>{e({type:"back"})},i=m.confirmBtn();i.addEventListener("click",n);const r=m.goBackBtn();return r.addEventListener("click",s),()=>{i.removeEventListener("click",n),r.removeEventListener("click",s)}}),an=Ye({actors:{loadFirstStep:sn,loadSecondStep:rn,loadThirdStep:on,loadForthStep:cn}}).createMachine({id:"form-state",initial:"personalInfo",context:{name:"",email:"",phone:"",plan:at.arcade,yearly:!1,addons:[]},states:{personalInfo:{invoke:{id:"firstStep",src:"loadFirstStep",input:({context:e})=>({name:e.name,email:e.email,phone:e.phone})},on:{"info.submitted":{target:"plan",actions:R({name:({event:e})=>e.name,email:({event:e})=>e.email,phone:({event:e})=>e.phone})}}},plan:{invoke:{id:"secondStep",src:"loadSecondStep",input:({context:e})=>({plan:e.plan.name,yearly:e.yearly})},on:{back:{target:"personalInfo"},"plan.submitted":{target:"addons",actions:R({plan:({event:e})=>e.plan,yearly:({event:e})=>e.yearly})}}},addons:{invoke:{id:"secondThird",src:"loadThirdStep",input:({context:e})=>({yearly:e.yearly,addons:e.addons})},on:{back:{target:"plan"},"addons.submitted":{target:"finish",actions:R({addons:({event:e})=>e.addons})}}},finish:{invoke:{id:"secondForth",src:"loadForthStep",input:({context:e})=>({plan:e.plan,yearly:e.yearly,addons:e.addons})},on:{back:{target:"addons"},"finish.submitted":{target:"thanks",actions:()=>{D(m.thankYouPage(),"step-four")}}}},thanks:{type:"final"}}}),Jt=j(an);Jt.subscribe(e=>{console.log(e)});Jt.start();
